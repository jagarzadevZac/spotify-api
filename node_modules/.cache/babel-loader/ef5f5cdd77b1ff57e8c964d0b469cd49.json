{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nexport const GetToken = async () => {\n  _s();\n\n  const [token, settoken] = useState(null);\n\n  const getToken = () => {\n    // console.log('Token:', token);\n    return token;\n  };\n\n  useEffect(() => {\n    axios('https://accounts.spotify.com/api/token', {\n      'method': 'POST',\n      'headers': {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + new Buffer(process.env.REACT_APP_SPOTIFY_CLIENT_ID + ':' + process.env.REACT_APP_SPOTIFY_CLIENT_SECRET).toString('base64')\n      },\n      data: 'grant_type=client_credentials'\n    }).then(tokenresponse => {\n      if (tokenresponse.request.status === 200) {\n        console.log(\"tokenresponse.request.status\", tokenresponse.request.status);\n        settoken(tokenresponse.request.status);\n      } //console.log(token);\n\n    }).catch(error => console.log(error));\n  }, [token]);\n  return getToken();\n};\n\n_s(GetToken, \"6RUUvCu9x4ZraewHmYu1V43d9dc=\");\n\n_c = GetToken;\n\nvar _c;\n\n$RefreshReg$(_c, \"GetToken\");","map":{"version":3,"sources":["C:/Users/Anton/Downloads/react-coding-challenges-master/react-coding-challenges-master/spootify/src/routes/Discover/components/DiscoverBlock/components/token.js"],"names":["axios","useEffect","useState","GetToken","token","settoken","getToken","Buffer","process","env","REACT_APP_SPOTIFY_CLIENT_ID","REACT_APP_SPOTIFY_CLIENT_SECRET","toString","data","then","tokenresponse","request","status","console","log","catch","error"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAkBC,QAAlB,QAAiC,OAAjC;AAEA,OAAO,MAAMC,QAAQ,GAAG,YAAY;AAAA;;AAChC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBH,QAAQ,CAAC,IAAD,CAAlC;;AACA,QAAMI,QAAQ,GAAG,MAAM;AACzB;AACA,WAAOF,KAAP;AACA,GAHE;;AAKAH,EAAAA,SAAS,CAAC,MAAM;AAEZD,IAAAA,KAAK,CAAC,wCAAD,EAA2C;AAC5C,gBAAU,MADkC;AAE5C,iBAAW;AACH,wBAAe,mCADZ;AAEH,yBAAiB,WAAY,IAAIO,MAAJ,CAAYC,OAAO,CAACC,GAAR,CAAYC,2BAAZ,GAA0C,GAA1C,GAAgDF,OAAO,CAACC,GAAR,CAAYE,+BAAxE,EAAyGC,QAAzG,CAAkH,QAAlH;AAF1B,OAFiC;AAM5CC,MAAAA,IAAI,EAAE;AANsC,KAA3C,CAAL,CAOGC,IAPH,CAOQC,aAAa,IAAI;AACrB,UAAGA,aAAa,CAACC,OAAd,CAAsBC,MAAtB,KAAiC,GAApC,EAAwC;AACpCC,QAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA2CJ,aAAa,CAACC,OAAd,CAAsBC,MAAjE;AAEAZ,QAAAA,QAAQ,CAACU,aAAa,CAACC,OAAd,CAAsBC,MAAvB,CAAR;AACH,OALoB,CAOrB;;AACH,KAfD,EAeGG,KAfH,CAeSC,KAAK,IAAIH,OAAO,CAACC,GAAR,CAAYE,KAAZ,CAflB;AAiBH,GAnBQ,EAmBN,CAACjB,KAAD,CAnBM,CAAT;AAsBA,SAAOE,QAAQ,EAAf;AACH,CA9BM;;GAAMH,Q;;KAAAA,Q","sourcesContent":["import axios from \"axios\"\r\nimport {useEffect,useState} from \"react\";\r\n\r\nexport const GetToken = async () => {\r\n    const [token, settoken] = useState(null)\r\n    const getToken = () => {\r\n\t\t// console.log('Token:', token);\r\n\t\treturn token\r\n\t}\r\n\r\n    useEffect(() => {\r\n\r\n        axios('https://accounts.spotify.com/api/token', {\r\n            'method': 'POST',\r\n            'headers': {\r\n                    'Content-Type':'application/x-www-form-urlencoded',\r\n                    'Authorization': 'Basic ' + (new Buffer( process.env.REACT_APP_SPOTIFY_CLIENT_ID + ':' + process.env.REACT_APP_SPOTIFY_CLIENT_SECRET).toString('base64')),\r\n            },\r\n            data: 'grant_type=client_credentials'\r\n        }).then(tokenresponse => {\r\n            if(tokenresponse.request.status === 200){\r\n                console.log(\"tokenresponse.request.status\",tokenresponse.request.status);\r\n              \r\n                settoken(tokenresponse.request.status);\r\n            }\r\n           \r\n            //console.log(token);\r\n        }).catch(error => console.log(error));\r\n        \r\n    }, [token])\r\n        \r\n\r\n    return getToken();\r\n}"]},"metadata":{},"sourceType":"module"}